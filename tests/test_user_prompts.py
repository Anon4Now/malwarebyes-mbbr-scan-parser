"""Module containing tests for user prompts"""

# Third-party imports
import pytest

# Local App imports
from resources.user_prompts import get_file_path
from resources.errors import NoXmlInPathError


def test_get_file_path_success(monkeypatch):
    monkeypatch.setattr('builtins.input', lambda _: 'tests/test_resources/MBBR-STDOUT_mixed_results.XML')
    assert get_file_path() == 'tests/test_resources/mbbr-stdout_mixed_results.xml'


def test_get_file_path_exit(monkeypatch):
    monkeypatch.setattr('builtins.input', lambda _: 'EXIT')
    assert get_file_path() is False


def test_get_file_path_filenotfounderror(monkeypatch):
    monkeypatch.setattr('builtins.input', lambda _: 'tests/path_does_not_exist.XML')
    with pytest.raises(FileNotFoundError):
        assert get_file_path()


def test_get_file_path_noxmlinpatherror(monkeypatch):
    monkeypatch.setattr('builtins.input', lambda _: 'tests/test_resources/MBBR-STDOUT_mixed_results.TXT')
    with pytest.raises(NoXmlInPathError):
        assert get_file_path()
